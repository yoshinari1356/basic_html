<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Map</title>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-C47VJ5PWGB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-C47VJ5PWGB');
  </script>
</head>
<body>
  <h1>GoogleMap</h1>
  <nav class="">
    <ol>
        <li class=""><a href="map.html">map</a></li>
        <li class=""><a href="map_simple.html">map_simple</a></li>
        <li class=""><a href="map_api_custom_marker.html">map_api_custom_marker</a></li>
        <li class=""><a href="map_api_info_window.html">map_api_info_window</a></li>
        <li class=""><a href="map_api_marker_clustering.html">map_api_marker_clustering</a></li>
    </ol>
  </nav>
  <section>
    <section>
      <h3>カスタムマーカー</h3>
      <p>https://developers.google.com/maps/documentation/javascript/marker-clustering?hl=ja</p>
      <div id="custom_marker_map" class="map"></div>
      <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBtqjDbVV9ySxQGoPJtK84DszPnCGE0IcU&callback=initCustomMarkerMap"
        defer
      ></script>
      <script src="https://unpkg.com/@googlemaps/markerclusterer/dist/index.min.js"></script>
      <script>
        function initCustomMarkerMap() {
          let map = new google.maps.Map(document.getElementById("custom_marker_map"), {
            center: new google.maps.LatLng(-33.91722, 151.23064),
            zoom: 16,
          });

          const iconBase =
            "https://developers.google.com/maps/documentation/javascript/examples/full/images/";
          const icons = {
            me: {
              icon: "images/icon_128_128.png",
            },
            parking: {
              icon: iconBase + "parking_lot_maps.png",
            },
            library: {
              icon: iconBase + "library_maps.png",
            },
            info: {
              icon: iconBase + "info-i_maps.png",
            },
          };
          const features = [
            {
              position: new google.maps.LatLng(-33.91721, 151.2263),
              type: "me",
            },
            {
              position: new google.maps.LatLng(-33.91539, 151.2282),
              type: "me",
            },
            {
              position: new google.maps.LatLng(-33.91747, 151.22912),
              type: "info",
            },
            {
              position: new google.maps.LatLng(-33.9191, 151.22907),
              type: "info",
            },
            {
              position: new google.maps.LatLng(-33.91725, 151.23011),
              type: "info",
            },
            {
              position: new google.maps.LatLng(-33.91872, 151.23089),
              type: "info",
            },
            {
              position: new google.maps.LatLng(-33.91784, 151.23094),
              type: "info",
            },
            {
              position: new google.maps.LatLng(-33.91682, 151.23149),
              type: "info",
            },
            {
              position: new google.maps.LatLng(-33.9179, 151.23463),
              type: "info",
            },
            {
              position: new google.maps.LatLng(-33.91666, 151.23468),
              type: "info",
            },
            {
              position: new google.maps.LatLng(-33.916988, 151.23364),
              type: "info",
            },
            {
              position: new google.maps.LatLng(-33.91662347903106, 151.22879464019775),
              type: "parking",
            },
            {
              position: new google.maps.LatLng(-33.916365282092855, 151.22937399734496),
              type: "parking",
            },
            {
              position: new google.maps.LatLng(-33.91665018901448, 151.2282474695587),
              type: "parking",
            },
            {
              position: new google.maps.LatLng(-33.919543720969806, 151.23112279762267),
              type: "parking",
            },
            {
              position: new google.maps.LatLng(-33.91608037421864, 151.23288232673644),
              type: "parking",
            },
            {
              position: new google.maps.LatLng(-33.91851096391805, 151.2344058214569),
              type: "parking",
            },
            {
              position: new google.maps.LatLng(-33.91818154739766, 151.2346203981781),
              type: "parking",
            },
            {
              position: new google.maps.LatLng(-33.91727341958453, 151.23348314155578),
              type: "library",
            },
          ];

          // Create markers.
          for (let i = 0; i < features.length; i++) {
            const marker = new google.maps.Marker({
              position: features[i].position,
              icon: icons[features[i].type].icon,
              map: map,
            });
          }
        }

        window.initCustomMarkerMap = initCustomMarkerMap;

      </script>
    </section>
    <style>
      #map,
      .map {
        height: 300px;
      }
    </style>
  </section>
</body>
</html>